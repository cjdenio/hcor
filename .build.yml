image: archlinux
packages:
- rustup
repositories: {}
shell: false
sources:
  - https://git.sr.ht/~muirrum/hackagotchi-core
tasks:
- setup: |
    rustup toolchain install nightly
    cd hackagotchi-core/
    rustup run nightly cargo fetch
- fmt: |
    cd hackagotchi-core/
    cargo fmt -- --check
- stable: |
    rustup default nightly
    cd hackagotchi-core/
    cargo build
    cargo test

